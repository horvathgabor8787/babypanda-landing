
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base */
html, body, #__next { height: 100%; }
body { @apply bg-neutral-950 text-neutral-100; }

/* Holographic gradient background */
.bg-animated {
  background: radial-gradient(1200px 800px at var(--mx,50%) var(--my,30%), rgba(255,255,255,0.06), rgba(255,255,255,0) 60%),
              conic-gradient(from 180deg at 50% 50%, rgba(225,164,239,0.18), rgba(120,200,255,0.18), rgba(255,180,220,0.18), rgba(225,164,239,0.18));
  background-blend-mode: screen, normal;
}
.bg-grid::after{
  content:""; position:absolute; inset:0;
  background-image: linear-gradient(#ffffff12 1px, transparent 1px), linear-gradient(90deg,#ffffff12 1px, transparent 1px);
  background-size: 48px 48px;
  mask-image: radial-gradient(ellipse at 50% 20%, rgba(0,0,0,.6), transparent 70%);
  pointer-events:none;
}
.bg-orb{ position:absolute; border-radius:9999px; filter: blur(40px); opacity:.55; }
.orb-1{ width:380px; height:380px; background: #E1A4EF55; top: -40px; left: -40px; }
.orb-2{ width:420px; height:420px; background: #8ED1FF55; bottom: 10%; right: -60px; }
.orb-3{ width:320px; height:320px; background: #FF9FF355; top: 30%; left: 60%; }
.vignette{ position:absolute; inset:-20px; pointer-events:none;
  box-shadow: inset 0 0 140px 80px rgba(0,0,0,.8); border-radius: 18px;
}

/* Cursor spotlight */
.page-spotlight {
  position: fixed; inset: 0; pointer-events: none; z-index: 1;
  background: radial-gradient(350px 350px at var(--mx,50%) var(--my,30%), rgba(225,164,239,0.25), transparent 60%);
  mix-blend-mode: screen;
}

/* Neon/glow borders */
.glow-card {
  @apply rounded-2xl bg-neutral-900/60 backdrop-blur border border-white/10 shadow;
  box-shadow: 0 0 0 1px rgba(225,164,239,0.18), 0 16px 40px rgba(0,0,0,.35);
}
.glow-card:hover { box-shadow: 0 0 0 1px rgba(225,164,239,0.35), 0 22px 60px rgba(0,0,0,.55); }

.holo-border {
  position: relative; border-radius: 18px; overflow: hidden;
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
}
.holo-border::before {
  content:""; position:absolute; inset:-2px;
  background: linear-gradient(45deg, rgba(225,164,239,.8), rgba(120,200,255,.8), rgba(255,180,220,.8), rgba(225,164,239,.8));
  filter: blur(12px); opacity:.35; z-index:0;
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  padding:2px; border-radius: 18px;
}
.holo-border > * { position: relative; z-index: 1; }

/* Shine headline (explicit keyframes for stability) */
@keyframes shine {
  0% { background-position: 0% 50%; }
  100% { background-position: 100% 50%; }
}
.shine-text {
  background: linear-gradient(90deg, #fff, #E1A4EF, #fff, #8ED1FF);
  background-size: 300% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: shine 10s linear infinite;
}

/* CTA button */
.btn-primary {
  @apply inline-flex items-center justify-between rounded-full bg-black px-6 h-12 sm:h-14 font-semibold shadow;
  color: #E1A4EF;
  box-shadow: 0 0 0 1px rgba(225,164,239,0.35), 0 12px 30px rgba(0,0,0,.4);
}
.btn-primary .arrow {
  display:inline-flex; align-items:center; justify-content:center;
  width: 34px; height:34px; border-radius:9999px; background: #E1A4EF; color:#111; margin-left:.75rem;
}

/* Image wrappers for pixel-perfect containment */
.img-wrap { @apply bg-neutral-900/50 rounded-xl overflow-hidden border border-white/10; }
.img-fit  { @apply w-full h-full object-contain; }

/* Confetti (explicit keyframes for stability) */
@keyframes fall {
  0% { transform: translateY(-100vh); }
  100% { transform: translateY(100vh); }
}
.confetti-layer{ position:absolute; inset:0; pointer-events:none; overflow:hidden }
.confetti{ position:absolute; top:-10vh; background: currentColor; border-radius: 1px; opacity:.75;
  animation: fall linear infinite; }
.confetti.c1{ color:#E1A4EF; width:3px; height:10px; animation-duration:9s }
.confetti.c2{ color:#8ED1FF; width:2px; height:14px; animation-duration:10s }
.confetti.c3{ color:#FF9FF3; width:3px; height:12px; animation-duration:11s }
.confetti.c4{ color:#ffffff; width:2px; height:8px; animation-duration:12s }
.confetti.c5{ color:#C29A8E; width:2px; height:10px; animation-duration:13s }

/* FAQ accordion */
.faq-item { @apply border-b border-white/10 py-4; }
.faq-q { @apply flex justify-between items-center text-left w-full text-base md:text-lg font-semibold; }
.faq-a { @apply mt-2 text-sm md:text-base text-neutral-300; }

/* Utility */
.max-w-prose { max-width: 65ch; }
/* ===== Mobile finomhangolás ===== */

/* Képkeret középre igazítás biztos ami biztos */
.img-wrap { display: flex; align-items: center; justify-content: center; }
.img-fit  { object-fit: contain; object-position: center; }

/* Kategória képek kompakt magassága */
@media (max-width: 360px) {
  .cat-img { height: 11rem; } /* ~176px */
}
@media (min-width: 361px) and (max-width: 767px) {
  .cat-img { height: 13rem; } /* ~208px */
}
@media (min-width: 768px) {
  .cat-img { height: 18rem; } /* ~288px */
}

/* Kalkulátor iframe responsív magasság */
.calc-frame { height: 60vh; min-height: 420px; }
@media (min-width: 768px) {
  .calc-frame { height: 75vh; min-height: 520px; }
}

/* Hero cím még biztonságosabb tördelése nagyon keskeny kijelzőn */
@media (max-width: 360px) {
  .hero-title { font-size: 1.75rem; line-height: 1.2; } /* ~28px */
}
/* === Background stickers layer === */
.sticker-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0; /* a tartalom (z-10) alá kerül */
}
.sticker {
  position: absolute;
  opacity: .28; /* finom, nem tolakodó */
}

/* Animációk a lágy lebegéshez */
@keyframes float_slow { 0%,100% { transform: translateY(0) } 50% { transform: translateY(-10px) } }
@keyframes sway_slow  { 0%,100% { transform: rotate(-3deg) } 50% { transform: rotate(3deg) } }

.float-slow { animation: float_slow 8s ease-in-out infinite; }
.sway-slower { animation: sway_slow 12s ease-in-out infinite; }

/* Már létező pulse-soft animációra hivatkozunk; ha szeretnéd, erősítsd: */
/* .pulse-soft { animation: pulse-soft 4s ease-in-out infinite; } */
/* === Gazdagabb holografikus háttérikonok === */
.sticker-layer {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;                  /* a tartalom (z-10) alá */
}
.sticker {
  position: absolute;
  opacity: .26;                /* alap áttetszőség a fill-hez */
  mix-blend-mode: screen;      /* finom, holografikus hatás sötét alapon */
}
.sticker svg { display:block }

/* Finom animációk */
@keyframes float_slow { 0%,100% { transform: translateY(0) } 50% { transform: translateY(-10px) } }
@keyframes sway_slow  { 0%,100% { transform: rotate(-3deg) } 50% { transform: rotate(3deg) } }

.float-slow   { animation: float_slow 9s ease-in-out infinite; }
.sway-slower  { animation: sway_slow  14s ease-in-out infinite; }

/* Egyszerű késleltetők */
.delay-500  { animation-delay: .5s; }
.delay-1000 { animation-delay: 1s; }
.delay-1500 { animation-delay: 1.5s; }
.delay-2000 { animation-delay: 2s; }
.delay-2500 { animation-delay: 2.5s; }
/* ===== Rose theme (próbaváltás a fekete helyett) ===== */
.theme-rose { 
  background-color: #e4a1af;
}

/* A grid sötét vonalakkal jobb világos alapon */
.theme-rose .bg-grid::after{
  background-image:
    linear-gradient(#00000014 1px, transparent 1px),
    linear-gradient(90deg, #00000014 1px, transparent 1px);
  /* enyhébb vignetta világos háttéren */
  mask-image: radial-gradient(ellipse at 50% 20%, rgba(0,0,0,.35), transparent 70%);
}

/* A háttér ikonok világos alapon “multiply”-jal szebbek és kicsit erősebbek */
.theme-rose .sticker {
  mix-blend-mode: multiply;
  opacity: .22;                   /* picit erősebb, hogy ne vesszen el */
  filter: drop-shadow(0 6px 16px rgba(225,164,239,0.25));
}

/* Opcionális: kicsit gyengébb sötét perem, hogy ne legyen túl komor a szélen */
.theme-rose .vignette { 
  box-shadow: inset 0 0 120px 60px rgba(0,0,0,.35);
}
/* === Rose theme – tipográfia sötét szöveggel === */

/* Alap: a szekciók alap szövegszíne legyen sötét */
.theme-rose section { color: #111; }

/* Címek és tipikus szövegek még biztosabban sötétek */
.theme-rose :where(h1,h2,h3,h4,h5,h6) { color:#0b0b0b; }
.theme-rose :where(p,li,dt,dd,small) { color:#1a1a1a; }

/* A korábban fényes-átmenetes cím mobilon világos alapon túl halvány – tegyük feketére */
.theme-rose .shine-text {
  background: none !important;
  -webkit-background-clip: initial !important;
  background-clip: initial !important;
  color: #0b0b0b !important;
}

/* A "semleges" Tailwind színek vilagos témán túl világosak – erősítsük fel őket */
.theme-rose :where(.text-neutral-100,.text-neutral-200,.text-neutral-300) { color:#1a1a1a !important; }
.theme-rose :where(.text-neutral-400,.text-neutral-500) { color:#2a2a2a !important; }

/* FAQ speciális: kérdés és válasz színek + finomabb határvonal világos alapon */
.theme-rose .faq-q { color:#0b0b0b !important; }
.theme-rose .faq-a { color:#2a2a2a !important; }
.theme-rose .faq-item { border-color: rgba(0,0,0,.12) !important; }

/* Kártyák/glass keretek: világos témán finomabb kontraszt */
.theme-rose .holo-border::before { opacity: .25; }
.theme-rose .glow-card { box-shadow: 0 0 0 1px rgba(0,0,0,.06), 0 12px 24px rgba(0,0,0,.10); }

/* Grid vonalak világos témához igazítva (ha még nem tetted be korábban) */
.theme-rose .bg-grid::after{
  background-image:
    linear-gradient(#00000014 1px, transparent 1px),
    linear-gradient(90deg, #00000014 1px, transparent 1px);
  mask-image: radial-gradient(ellipse at 50% 20%, rgba(0,0,0,.35), transparent 70%);
}

/* Háttér-ikonok világos alapon jobban érvényesülnek "multiply"-jal */
.theme-rose .sticker {
  mix-blend-mode: multiply;
  opacity: .24;
  filter: drop-shadow(0 6px 16px rgba(225,164,239,0.22));
}
/* Lágyabb, babásabb háttérátmenet */
.theme-rose {
  background: radial-gradient(ellipse at 30% -10%, #f7d4dc 0%, #e4a1af 45%, #e09aa8 100%);
}

/* Kártyák picit világosabb üveg-hatásban, jobb olvashatósággal */
.theme-rose .holo-border::before { opacity: .35; }
.theme-rose .glass,
.theme-rose .glow-card { background: rgba(255,255,255,.35); border-color: rgba(255,255,255,.45); }

/* Grid vonalak világosabbra */
.theme-rose .bg-grid::after{
  background-image:
    linear-gradient(#00000010 1px, transparent 1px),
    linear-gradient(90deg, #00000010 1px, transparent 1px);
}

/* CTA-k rózsaszínen még határozottabban ugranak ki */
.theme-rose .btn-primary {
  background:#111 !important;
  color:#E1A4EF !important;
  border-color:#E1A4EF !important;
  box-shadow: 0 6px 18px rgba(0,0,0,.18);
}
/* ===== Kékes fényhullám a címek végén ===== */
:root{
  --wave-blue1: #7da4ff;
  --wave-blue2: #a7c2ff;
  --wave-mix:   #E1A4EF; /* brand lilás fény, hogy szépen összeolvadjon */
}

.title-wave{
  position: relative;
  display: inline-block;
  isolation: isolate;
}

/* Fényhullám a cím JOBB oldalán (a szöveg végén) */
.title-wave::after{
  content:"";
  position: absolute;
  right: -6%;
  top: -22%;
  width: clamp(140px, 34%, 360px);
  height: 150%;
  pointer-events: none;
  border-radius: 50%;
  /* több réteg: belső kék villanás + lilás átmenet + finom csíkok */
  background:
    radial-gradient(110% 85% at 0% 55%, rgba(125,164,255,.75) 0%, rgba(125,164,255,.35) 36%, transparent 70%),
    radial-gradient(80% 60%  at 15% 35%, rgba(167,194,255,.55), transparent 60%),
    radial-gradient(95% 75%  at 5% 70%,  rgba(225,164,239,.35), transparent 68%),
    linear-gradient(95deg, transparent 0 40%, rgba(255,255,255,.28) 50%, transparent 65%);
  filter: blur(8px) saturate(115%);
  mix-blend-mode: screen; /* sötét és világos hátteren is fényként viselkedik */
  z-index: -1;            /* a szöveg alatt marad */
}

/* Enyhe “élés” animáció (opcionális) */
.title-wave.wave-animate::after{
  animation: wave-drift 6s ease-in-out infinite;
}
@keyframes wave-drift{
  0%,100% { transform: translateX(0) scale(1); opacity:.95; }
  50%     { transform: translateX(8px) scale(1.02); opacity:1; }
}

/* Ha a felhasználó csökkentett animációt kér, ne mozogjon */
@media (prefers-reduced-motion: reduce){
  .title-wave.wave-animate::after{ animation: none; }
}

/* Rose témán kicsit erősebb glow, hogy ne vesszen el a rózsaszínben */
.theme-rose .title-wave::after{
  filter: blur(9px) drop-shadow(0 6px 18px rgba(125,164,255,.25));
}
